ols40 <- lm(formula = avgverb ~ classize, data = final4)
vcov_school <- cluster.vcov(ols40, final4$schlcode)
coeftest(ols40, vcov_school)
ols1s <- lm(formula = classize ~ predict_c, data = final4)
summary(ols1s)
setwd("D:/GitHub/ECMA-31100/Final Project")
library(haven)
library(tidyverse)
library(dplyr)
library(multiwayvcov)
library(lmtest)
library(strucchange)
final4 <- read_dta("final4.dta")
final5 <- read_dta("final5.dta")
final4 <-
final4 %>% filter(verbsize !=0 ,
mathsize != 0 ,
c_leom == 1 ,
c_pik < 3,
1<classize,
classize<45,
c_size>5)
final5 <-
final5 %>% filter(verbsize !=0 ,
mathsize != 0 ,
c_leom == 1 ,
c_pik < 3)
final4 <-
final4 %>%
dplyr::mutate(
.data = final4,
avgverb= ifelse(avgverb>100, avgverb-100, avgverb),
avgmath= ifelse(avgmath>100, avgmath-100, avgmath),
predict_c = c_size/ceiling(c_size),
c_size2= (c_size^2)/100
)
final5 <-
final5 %>%
dplyr::mutate(
.data = final5,
avgverb= ifelse(avgverb>100, avgverb-100, avgverb),
avgmath= ifelse(avgmath>100, avgmath-100, avgmath),
predict_c = c_size/ceiling(c_size),
c_size2= (c_size^2)/100
)
# final4_f <-
#   final4 %>%filter((c_size>=36 & c_size<=45) |
#                     (c_size>=76& c_size<=85) |
#                     (c_size>=116& c_size<=125))
setwd("D:/GitHub/ECMA-31100/Final Project")
library(haven)
library(tidyverse)
library(dplyr)
library(multiwayvcov)
library(lmtest)
library(strucchange)
final4 <- read_dta("final4.dta")
final5 <- read_dta("final5.dta")
final4 <-
final4 %>% filter(verbsize !=0 ,
mathsize != 0 ,
c_leom == 1 ,
c_pik < 3,
1<classize,
classize<45,
c_size>5)
final5 <-
final5 %>% filter(verbsize !=0 ,
mathsize != 0 ,
c_leom == 1 ,
c_pik < 3)
final4 <-
final4 %>%
dplyr::mutate(
.data = final4,
avgverb= ifelse(avgverb>100, avgverb-100, avgverb),
avgmath= ifelse(avgmath>100, avgmath-100, avgmath),
predict_c = c_size/ceiling(c_size/40),
c_size2= (c_size^2)/100
)
final5 <-
final5 %>%
dplyr::mutate(
.data = final5,
avgverb= ifelse(avgverb>100, avgverb-100, avgverb),
avgmath= ifelse(avgmath>100, avgmath-100, avgmath),
predict_c = c_size/ceiling(c_size/40),
c_size2= (c_size^2)/100
)
# final4_f <-
#   final4 %>%filter((c_size>=36 & c_size<=45) |
#                     (c_size>=76& c_size<=85) |
#                     (c_size>=116& c_size<=125))
setwd("D:/GitHub/ECMA-31100/Final Project")
library(haven)
library(tidyverse)
library(dplyr)
library(multiwayvcov)
library(lmtest)
library(strucchange)
final4 <- read_dta("final4.dta")
final5 <- read_dta("final5.dta")
final4 <-
final4 %>% filter(verbsize !=0 ,
mathsize != 0 ,
c_leom == 1 ,
c_pik < 3,
1<classize,
classize<45,
c_size>5)
final5 <-
final5 %>% filter(verbsize !=0 ,
mathsize != 0 ,
c_leom == 1 ,
c_pik < 3)
final4 <-
final4 %>%
dplyr::mutate(
.data = final4,
avgverb= ifelse(avgverb>100, avgverb-100, avgverb),
avgmath= ifelse(avgmath>100, avgmath-100, avgmath),
predict_c = c_size/ceiling(c_size/40),
c_size2= (c_size^2)/100
)
final5 <-
final5 %>%
dplyr::mutate(
.data = final5,
avgverb= ifelse(avgverb>100, avgverb-100, avgverb),
avgmath= ifelse(avgmath>100, avgmath-100, avgmath),
predict_c = c_size/ceiling(c_size/40),
c_size2= (c_size^2)/100
)
# final4_f <-
#   final4 %>%filter((c_size>=36 & c_size<=45) |
#                     (c_size>=76& c_size<=85) |
#                     (c_size>=116& c_size<=125))
ols40 <- lm(formula = avgverb ~ classize, data = final4)
vcov_school <- cluster.vcov(ols40, final4$schlcode)
coeftest(ols40, vcov_school)
ols1s <- lm(formula = classize ~ predict_c, data = final4)
summary(ols1s)
ols40 <- lm(formula = avgverb ~ classize, data = final4)
vcov_school <- cluster.vcov(ols40, final4$schlcode)
coeftest(ols40, vcov_school)
ols1s <- lm(formula = classize ~ predict_c, data = final4)
summary(ols1s)
anova(ols1s)
ols40 <- lm(formula = avgverb ~ classize, data = final4)
# vcov_school <- cluster.vcov(ols40, final4$schlcode)
# coeftest(ols40, vcov_school)
ols41 <- lm(formula = avgverb ~ classize + tipuach, data = final4)
ols42 <- lm(formula = avgverb ~ classize + tipuach + c_size, data = final4)
summary(ols40, ols41)
ols40 <- lm(formula = avgverb ~ classize, data = final4)
# vcov_school <- cluster.vcov(ols40, final4$schlcode)
# coeftest(ols40, vcov_school)
ols41 <- lm(formula = avgverb ~ classize + tipuach, data = final4)
ols42 <- lm(formula = avgverb ~ classize + tipuach + c_size, data = final4)
summary(ols40)
summary(ols41)
summary(ols42)
# ols1s <- lm(formula = classize ~ predict_c, data = final4)
# summary(ols1s)
# anova(ols1s)
setwd("D:/GitHub/ECMA-31100/Final Project")
library(haven)
library(tidyverse)
library(dplyr)
library(multiwayvcov)
library(lmtest)
library(strucchange)
final4 <- read_dta("final4.dta")
final5 <- read_dta("final5.dta")
final4 <-
final4 %>% filter(verbsize !=0 ,
mathsize != 0 ,
c_leom == 1 ,
c_pik < 3,
1<classize,
classize<45,
c_size>5)
final5 <-
final5 %>% filter(verbsize !=0 ,
mathsize != 0 ,
c_leom == 1 ,
c_pik < 3)
final4 <-
final4 %>%
dplyr::mutate(
.data = final4,
avgverb= ifelse(avgverb>100, avgverb-100, avgverb),
avgmath= ifelse(avgmath>100, avgmath-100, avgmath),
predict_c = c_size/ceiling(c_size/40),
c_size2= (c_size^2)/100
)
final5 <-
final5 %>%
dplyr::mutate(
.data = final5,
avgverb= ifelse(avgverb>100, avgverb-100, avgverb),
avgmath= ifelse(avgmath>100, avgmath-100, avgmath),
predict_c = c_size/ceiling(c_size/40),
c_size2= (c_size^2)/100
)
# final4_f <-
#   final4 %>%filter((c_size>=36 & c_size<=45) |
#                     (c_size>=76& c_size<=85) |
#                     (c_size>=116& c_size<=125))
setwd("D:/GitHub/ECMA-31100/Final Project")
library(haven)
library(tidyverse)
library(dplyr)
library(multiwayvcov)
library(lmtest)
library(strucchange)
final4 <- read_dta("final4.dta")
final5 <- read_dta("final5.dta")
final4 <-
final4 %>% filter(verbsize !=0 ,
mathsize != 0 ,
c_leom == 1 ,
c_pik < 3,
1<classize,
classize<45,
c_size>5)
final5 <-
final5 %>% filter(verbsize !=0 ,
mathsize != 0 ,
c_leom == 1 ,
c_pik < 3,
1<classize,
classize<45,
c_size>5)
final4 <-
final4 %>%
dplyr::mutate(
.data = final4,
avgverb= ifelse(avgverb>100, avgverb-100, avgverb),
avgmath= ifelse(avgmath>100, avgmath-100, avgmath),
predict_c = c_size/ceiling(c_size/40),
c_size2= (c_size^2)/100
)
final5 <-
final5 %>%
dplyr::mutate(
.data = final5,
avgverb= ifelse(avgverb>100, avgverb-100, avgverb),
avgmath= ifelse(avgmath>100, avgmath-100, avgmath),
predict_c = c_size/ceiling(c_size/40),
c_size2= (c_size^2)/100
)
# final4_f <-
#   final4 %>%filter((c_size>=36 & c_size<=45) |
#                     (c_size>=76& c_size<=85) |
#                     (c_size>=116& c_size<=125))
#OLS for Verbal for 5th grade (column 1, 2, 3)
ols1 <- lm(formula = avgverb ~ classize, data = final5)
ols2 <- lm(formula = avgverb ~ classize + tipuach, data = final5)
ols3 <- lm(formula = avgverb ~ classize + tipuach + c_size, data = final5)
#OLS for Math for 5th grade (column 4, 5, 6)
ols4 <- lm(formula = avgmath ~ classize, data = final5)
ols5 <- lm(formula = avgmath ~ classize + tipuach, data = final5)
ols6 <- lm(formula = avgmath ~ classize + tipuach + c_size, data = final5)
#OLS for Verbal for 4th grade (column 7, 8, 9)
ols7 <- lm(formula = avgverb ~ classize, data = final4)
ols8 <- lm(formula = avgverb ~ classize + tipuach, data = final4)
ols9 <- lm(formula = avgverb ~ classize + tipuach + c_size, data = final4)
#OLS for Math for 4th grade (colmn 10, 11, 12)
ols10 <- lm(formula = avgmath ~ classize, data = final4)
ols11 <- lm(formula = avgmath ~ classize + tipuach, data = final4)
ols12 <- lm(formula = avgmath ~ classize + tipuach + c_size, data = final4)
# vcov_school <- cluster.vcov(ols1, final4$schlcode)
# coeftest(ols40, vcov_school)
# summary(ols40)
# summary(ols41)
# summary(ols42)
# ols1s <- lm(formula = classize ~ predict_c, data = final4)
# summary(ols1s)
# anova(ols1s)
d <- 5
for(i in 1:10) {
nam <- paste("A", i, sep = "")
assign(nam, rnorm(3)+d)
}
d <- 0
for(i in 1:10) {
for(j in 1:2){d++}
d <- 0
for(i in 1:10) {
for(j in 1:2){
d++
}
d <- 0
for(i in 1:10) {
for(j in 1:2){
d +=1
d <- 0
for(i in 1:10) {
for(j in 1:2){
d<- d+1
}
}
d
list('a', 'b')
c('a', 'b')
#For 5th Grade (Column 1-6)
#Class size (Column 1,2)
ols31 <- lm(formula = classize ~ tipuach, data = 'final5')
#For 5th Grade (Column 1-6)
#Class size (Column 1,2)
ols31 <- lm(formula = classize ~ tipuach, data = final5)
# ols32 <- lm(formula = classize ~ tipuach + c_size, data = final5)
#
# #Verbal (Column 3, 4)
# ols33 <- lm(formula = avgverb ~ tipuach, data = final5)
# ols34 <- lm(formula = avgverb ~ tipuach + c_size, data = )
for data
c(final5, final4)
#For 5th Grade (Column 1-6)
#Class size (Column 1,2)
ols31 <- lm(formula = classize ~ tipuach, data = final5)
# ols32 <- lm(formula = classize ~ tipuach + c_size, data = final5)
#
# #Verbal (Column 3, 4)
# ols33 <- lm(formula = avgverb ~ tipuach, data = final5)
# ols34 <- lm(formula = avgverb ~ tipuach + c_size, data = )
for data_set in c(final5, final4){
#For 5th Grade (Column 1-6)
#Class size (Column 1,2)
ols31 <- lm(formula = classize ~ tipuach, data = final5)
# ols32 <- lm(formula = classize ~ tipuach + c_size, data = final5)
#
# #Verbal (Column 3, 4)
# ols33 <- lm(formula = avgverb ~ tipuach, data = final5)
# ols34 <- lm(formula = avgverb ~ tipuach + c_size, data = )
for (data_set in c(final5, final4)){
ols <- lm(formula = classize ~ tipuach, data = data_set)
summary(ols)
}
ols31 <- lm(formula = classize ~ tipuach + 0, data = final5)
summary(ols31)
ols31 <- lm(formula = classize ~ tipuach + '0', data = final5)
c(0, c_size)
c(0, 'c_size')
#For 5th Grade (Column 1-6)
#Class size (Column 1,2)
ols31 <- lm(formula = classize ~ tipuach + 'c+size', data = final5)
#For 5th Grade (Column 1-6)
k <- 0
for(y in c('classize', 'avgverb', 'avgmath')) {
for(x in c(0, 'c_size'))
k<-k+1
name <- paste("ols3", k, sep = "")
fo <- as.formula(paste(y, "~tipuach+", x))
assign(name, lm(formula = fo, data = final5))
}
c(0, 'c_size')
setwd("D:/GitHub/ECMA-31100/Final Project")
library(haven)
library(tidyverse)
library(dplyr)
library(multiwayvcov)
library(lmtest)
library(strucchange)
final4 <- read_dta("final4.dta")
final5 <- read_dta("final5.dta")
final4 <-
final4 %>% filter(verbsize !=0 ,
mathsize != 0 ,
c_leom == 1 ,
c_pik < 3,
1<classize,
classize<45,
c_size>5)
final5 <-
final5 %>% filter(verbsize !=0 ,
mathsize != 0 ,
c_leom == 1 ,
c_pik < 3,
1<classize,
classize<45,
c_size>5)
final4 <-
final4 %>%
dplyr::mutate(
.data = final4,
avgverb= ifelse(avgverb>100, avgverb-100, avgverb),
avgmath= ifelse(avgmath>100, avgmath-100, avgmath),
predict_c = c_size/ceiling(c_size/40),
c_size2= (c_size^2)/100
)
final5 <-
final5 %>%
dplyr::mutate(
.data = final5,
avgverb= ifelse(avgverb>100, avgverb-100, avgverb),
avgmath= ifelse(avgmath>100, avgmath-100, avgmath),
predict_c = c_size/ceiling(c_size/40),
c_size2= (c_size^2)/100
)
# final4_f <-
#   final4 %>%filter((c_size>=36 & c_size<=45) |
#                     (c_size>=76& c_size<=85) |
#                     (c_size>=116& c_size<=125))
#For 5th Grade (Column 1-6)
k <- 0
for(y in c('classize', 'avgverb', 'avgmath')) {
for(x in c(0, 'c_size'))
k<-k+1
name <- paste("ols3", k, sep = "")
fo <- as.formula(paste(y, "~tipuach+", x))
assign(name, lm(formula = fo, data = final5))
}
c(0, 'c_size')
#For 5th Grade (Column 1-6)
k <- 0
for(y in c('classize', 'avgverb', 'avgmath')) {
for(x in c('0', 'c_size'))
k<-k+1
name <- paste("ols3", k, sep = "")
fo <- as.formula(paste(y, "~tipuach+", x))
assign(name, lm(formula = fo, data = final5))
}
#For 5th Grade (Column 1-6)
k <- 0
for(y in c('classize', 'avgverb', 'avgmath')) {
for(x in c('0', 'c_size'))
k<-k+1
name <- paste("ols3", k, sep = "")
fo <- as.formula(paste(y, "~tipuach+", x))
assign(name, lm(formula = fo, data = final5))
}
summary(ols31)
#For 5th Grade (Column 1-6)
k <- 0
for(y in c('classize', 'avgverb', 'avgmath')) {
for(x in c('0', 'c_size'))
k<-k+1
name <- paste("ols3", k, sep = "")
fo <- as.formula(paste(y, "~tipuach+", x))
assign(name, lm(formula = fo, data = final5))
}
summary(ols32)
#For 5th Grade (Column 1-6)
k <- 0
for(y in c('classize', 'avgverb', 'avgmath')) {
for(x in c('0', 'c_size')){
k<-k+1
name <- paste("ols3", k, sep = "")
fo <- as.formula(paste(y, "~tipuach+", x))
assign(name, lm(formula = fo, data = final5))
}
}
summary(ols32)
summary(ols31)
#For 5th Grade (Column 1-6)
k <- 0
for(y in c('classize', 'avgverb', 'avgmath')) {
for(x in c('0', 'c_size')){
k<-k+1
name <- paste("ols3", k, sep = "")
fo <- as.formula(paste(y, "~predict_c+tipuach+", x))
assign(name, lm(formula = fo, data = final5))
}
}
summary(ols31)
summary(ols32)
#For 5th Grade (Column 1-6)
k <- 0
for(y in c('classize', 'avgverb', 'avgmath')) {
for(x in c('1', 'c_size')){
k<-k+1
name <- paste("ols3", k, sep = "")
fo <- as.formula(paste(y, "~predict_c+tipuach+", x))
assign(name, lm(formula = fo, data = final5))
}
}
summary(ols32)
summary(ols31)
#For 5th Grade (Column 1-6)
k <- 0
for(y in c('classize', 'avgverb', 'avgmath')) {
for(x in c('1', 'c_size')){
k<-k+1
name <- paste("ols3", k, sep = "")
fo <- as.formula(paste(y, "~predict_c+tipuach+", x))
assign(name, lm(formula = fo, data = final5))
}
}
for(y in c('classize', 'avgverb', 'avgmath')) {
for(x in c('1', 'c_size')){
k<-k+1
name <- paste("ols3", k, sep = "")
fo <- as.formula(paste(y, "~predict_c+tipuach+", x))
assign(name, lm(formula = fo, data = final4))
}
}
summary(ols37)
library(ivreg)
install.packages('ivreg')
m_iv <- ivreg(formula = avgverb ~ tipu | classize | predict_c,
data = final5)
library(ivreg)
m_iv <- ivreg(formula = avgverb ~ tipu | classize | predict_c,
data = final5)
m_iv <- ivreg(formula = avgverb ~ tipuach | classize | predict_c,
data = final5)
summary(m_iv)
m_iv <- ivreg(formula = avgverb ~ tipuach | classize | predict_c,
data = final4)
summary(m_iv)
